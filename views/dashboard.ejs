<!DOCTYPE html>
<html lang="en" data-theme="bluegreentheme">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tempest</title>
    <link rel="stylesheet" href="./css/main.css">
    <script src="/public/js/main.js"></script>
</head>
<body class="h-screen">



<!--------------------------------------------------------------------------------------------------------


        NAVIGATION


--------------------------------------------------------------------------------------------------------->
  
  

    <div class="min-h-full flex flex-col justify-between">


        <div class="navbar bg-accent text-accent-content">
            <div class="flex-1">
            <a class="btn btn-ghost normal-case text-xl">Tempest</a>
            </div>
            <div class="flex-none">
                <!-- <div class="dropdown dropdown-end">
                    <label tabindex="0" class="btn btn-ghost btn-circle">
                    <div class="indicator">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" /></svg>
                        <span class="badge badge-sm indicator-item">8</span>
                    </div>
                    </label>
                    <div tabindex="0" class="mt-3 card card-compact dropdown-content w-52 bg-base-100 shadow">
                    <div class="card-body">
                        <span class="font-bold text-lg">8 Items</span>
                        <span class="text-info">Subtotal: $999</span>
                        <div class="card-actions">
                        <button class="btn btn-primary btn-block">View cart</button>
                        </div>
                    </div>
                    </div>
                </div> -->
                <div class="dropdown dropdown-end">
                    <label tabindex="0" class="btn btn-ghost btn-circle avatar">
                    <div class="w-10 rounded-full">
                        <img src="https://placeimg.com/80/80/people" />
                    </div>
                    </label>
                    <ul tabindex="0" class="menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52">
                    <!-- <li>
                        <a class="justify-between">
                        Profile
                        <span class="badge">New</span>
                        </a>
                    </li>
                    <li><a>Settings</a></li> -->
                    <li><a href="/logout">Logout</a></li>
                    </ul>
                </div>
                </div>
        </div>

 

<!--------------------------------------------------------------------------------------------------------


        CHARTS & DATA????


--------------------------------------------------------------------------------------------------------->
        
      <div>
        <canvas id="cardioChart"></canvas>
      </div>


      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>


      

  
                

<!--------------------------------------------------------------------------------------------------------


        STATS & DATA????


--------------------------------------------------------------------------------------------------------->



        



<!--------------------------------------------------------------------------------------------------------


        TAB BUTTONS


--------------------------------------------------------------------------------------------------------->



        <div class="container mx-auto my-10">

            <div class="card mx-auto bg-accent text-accent-content shadow-lg rounded p-4 ">

                <ul class="nav nav-pills flex flex-col sm:flex-row flex-wrap list-none pl-0 mb-4" id="pills-tab3" role="tablist">

                    <li class="nav-item" role="presentation">
                        
                      <button type="button" class=" block bg-base-100 font-medium text-xs leading-tight uppercase rounded w-full sm:w-auto px-6 py-3 my-2 sm:mr-2 hover:bg-secondary hover:text-secondary-content focus:bg-secondary focus:text-secondary-content" id="pills-cardio-tab3" data-bs-toggle="pill" data-bs-target="#pills-cardio3" role="tab" aria-controls="pills-cardio3" aria-selected="true">
                        Cardio
                      </button>
                    </li>

                    <li class="nav-item" role="presentation">

                      <button type="button" class="block bg-base-100 font-medium text-xs leading-tight uppercase rounded w-full sm:w-auto px-6 py-3 my-2 sm:mx-2 hover:bg-secondary hover:text-secondary-content focus:bg-secondary focus:text-secondary-content" id="pills-strength-tab3" data-bs-toggle="pill" data-bs-target="#pills-strength3" role="tab" aria-controls="pills-strength3" aria-selected="false">
                        Strength
                      </button>

                    </li>

                  </ul>

<!--------------------------------------------------------------------------------------------------------


        CARDIO TAB INPUTS


--------------------------------------------------------------------------------------------------------->

                  <div class="tab-content flex-col items-center" id="pills-tabContent3">

                    <div class="tab-pane fade show active flex flex-wrap" id="pills-cardio3" role="tabpanel" aria-labelledby="pills-cardio-tab3">

                        <div class="flex flex-wrap w-full sm:justify-center">

                          <form action="/dashboard/createCardioEntry" method="POST" class="w-full flex flex-wrap sm:justify-center">

                            <input type="date" placeholder="Date" name="date" class="input input-bordered w-full mb-2.5 sm:mx-2 sm:grow-0 sm:w-fit" required/>
                                            
                            <div class="flex w-full sm:w-fit">
                            
                              <input type="text" placeholder="Location" name="location" class="input input-bordered w-full mb-2.5 sm:mx-2 sm:w-fit basis-3/5"/>

                              <select name="sport" class="input input-bordered w-full basis-2/5 sm:mx-2 sm:grow-0 sm:w-fit" required>
                                <option disabled selected>Sport</option>
                                <option>Bike</option>
                                <option>Run</option>
                                <option>Hike</option>
                                <option>Jumprope</option>
                              </select>
                            
                            </div>
                            
                            <input type="text" placeholder="Time 00:00:00" name="time" class="input input-bordered w-full mb-2.5 sm:mx-2 sm:w-fit sm:grow-0" required/>
                            
                            <div class="flex w-full mb-2.5 sm:mx-2 sm:w-fit">
                            
                              <input type="number" step="0.1" min="0" placeholder="Distance" name="distance" class="input input-bordered w-full sm:mx-2 mb-2.5 sm:grow-0 basis-3/5 sm:w-fit" required/>

                              <select name="unit" class="input input-bordered w-full sm:mx-2 sm:grow-0 sm:w-fit pl-0.5 basis-2/5" required>
                                <option disabled selected>Unit</option>
                                <option>mi</option>
                                <option>km</option>
                              </select>
                            
                            </div>

                            <button type="submit" class="btn btn-accent w-full sm:w-fit bg-base-100 border-0 text-accent-content hover:btn-secondary hover:text-secondary-content">Submit</button>

                          </form>

                        </div>

<!--------------------------------------------------------------------------------------------------------


        CARDIO TAB TABLE/DATA


--------------------------------------------------------------------------------------------------------->

                        <div class="divider"></div> 

                        <div class=" overflow-auto rounded-lg shadow hidden sm:block w-full">

                            <div class="table table-fixed w-full">
                              <div class="table-header-group bg-accent-content text-accent">
                                <div class="table-row">
                                  <div class="table-cell p-4">Date</div>
                                  <div class="table-cell p-4">Location</div>
                                  <div class="table-cell p-4">Sport</div>
                                  <div class="table-cell p-4">Time</div>
                                  <div class="table-cell p-4">Distance</div>
                                </div>
                              </div>
                              <div class="table-row-group">
                              
                              <% cardioEntries.forEach( entry => { %>
                                <div class="table-row odd:bg-base-100 odd:text-accent-content hover:bg-secondary hover:text-secondary-content cardioItem">
                                  <div class="table-cell p-4 cardio-list-item-date"><%= entry.date %></div>
                                    <div class="table-cell p-4 cardio-list-item-location"><%= entry.location %></div>
                                    <div class="table-cell p-4 cardio-list-item-sport"><%= entry.sport %></div>
                                    <div class="table-cell p-4 cardio-list-item-time"><%= entry.time %></div>
                                    <div class="table-cell p-4 cardio-list-item-distance"><%= entry.distance %> <%= entry.unit %></div>
                                  </div>
                              <% }) %>
                              </div>
                            </div>

                        </div>

                        <div class="container sm:hidden">
                          

                          <div class="flex flex-col">


                            <% cardioEntries.forEach( entry => {%>
                            <div class="flex flex-row items-start justify-between gap-x-2.5 rounded-xl bg-base-100 p-4 shadow-lg mb-3 overflow-auto hover:bg-secondary hover:text-secondary-content">

                              
                              <div class="flex h-24 w-24 justify-center rounded-full">

                                <div class="radial-progress bg-primary text-primary-content border-4 border-primary" style="--value:70;"><%= entry.distance %> <%= entry.unit %></div>
                                
                              </div>
                        
                              <div class="ml-4 sm:ml-6 text-left basis-1/5 sm:basis-1/3">
                                <h1 class="font-semibold text-lg sm:text-2xl"><%= entry.sport %></h1>
                                <h3><%= entry.location %></h3>
                                <p class="mt-2 text-sm text-gray-500"><%= entry.date %></p>
                              </div>


                              <div class="ml-2 flex self-center justify-self-end h-full">
                                <div class="flex justify-self-end">
                                  <h1 class="font-semibold text-2xl sm:text-4xl block"><%= entry.time %></h1>
                                </div>
                              </div>
                            </div>
                            <% }) %>

                          </div>
                          
                          
                        </div>



                  </div>



<!--------------------------------------------------------------------------------------------------------


        STRENGTH TAB INPUTS


--------------------------------------------------------------------------------------------------------->

                    <div class="tab-pane fade" id="pills-strength3" role="tabpanel" aria-labelledby="pills-strength-tab3">
                      
                        <div class="flex flex-wrap w-full sm:justify-center">

                          <form action="/dashboard/createStrengthEntry" method="POST" class="w-full flex flex-wrap sm:justify-center">

                            <input type="date" placeholder="Date" name="date" class="input input-bordered w-full mb-2.5 sm:mx-2 sm:grow-0 sm:w-fit" required/>
                              
                            <select name="equipment" class="input input-bordered w-full mb-2.5 sm:mx-2 sm:grow-0 sm:w-fit" required>
                              <option disabled selected>Equipment</option>
                              <option>Machine</option>
                              <option>Weights</option>
                            </select>

                            <select name="muscle" class="input input-bordered w-full mb-2.5 sm:mx-2 sm:grow-0 sm:w-fit" required>
                              <option disabled selected>Muscle</option>
                              <option>Shoulders</option>
                              <option>Chest</option>
                              <option>Biceps</option>
                              <option>Triceps</option>
                              <option>Traps</option>
                              <option>Lower Back</option>
                              <option>Quads</option>
                              <option>Hamstrings</option>
                              <option>Calves</option>
                            </select>
                              
                            <div class="flex w-full mb-2.5 sm:mx-2 sm:w-fit">
                            
                              <input type="number" step="0.1" min="0" placeholder="Weight" name="weight" class="input input-bordered w-full mb-2.5 sm:grow-0 basis-3/5 sm:w-fit" required/>

                              <select name="unit" class="input input-bordered w-full sm:mx-2 sm:grow-0 sm:w-fit pl-0.5 basis-2/5" required>
                                  <option disabled selected>Unit</option>
                                  <option>lbs</option>
                                  <option>kg</option>
                              </select>
                            
                            </div>

                              <button type="submit" class="btn btn-accent w-full sm:w-fit bg-base-100 border-0 text-accent-content hover:btn-secondary hover:text-secondary-content">Submit</button>
                              
                          </form>

                          </div>



<!--------------------------------------------------------------------------------------------------------


        STRENGTH TAB TABLES/DATA


--------------------------------------------------------------------------------------------------------->



                        <div class="divider"></div> 

                        <div class=" overflow-auto rounded-lg bordered shadow hidden sm:block w-full">


                            <div class="table table-fixed w-full">
                              <div class="table-header-group bg-accent-content text-accent">
                                <div class="table-row">
                                  <div class="table-cell p-4">Date</div>
                                  <div class="table-cell p-4">Equipment</div>
                                  <div class="table-cell p-4">Muscle</div>
                                  <div class="table-cell p-4">Weights</div>
                                </div>
                              </div>

                              
                              <div class="table-row-group strength-list">
                              <% strengthEntries.forEach( entry => {%>
                                <div class="table-row odd:bg-base-100 odd:text-accent-content hover:bg-secondary hover:text-secondary-content strengthItem" data-id='<%= entry._id %>'>
                                  <div class="table-cell p-4 strength-list-item-date"><%= entry.date %></div>
                                  <div class="table-cell p-4 strength-list-item-equipment"><%= entry.equipment %></div>
                                  <div class="table-cell p-4 strength-list-item-muscle text-ellipsis"><%= entry.muscle %></div>
                                  <div class="table-cell p-4 strength-list-item-weight"><%= entry.weight %> <%= entry.unit %></div>
                              </div>
                              <% }) %>
                              </div>
                            </div>

                        </div>


                        <div class="container sm:hidden">


                          <div class="flex flex-col">


                            <% strengthEntries.forEach( entry => {%>
                            <div class="flex flex-row items-start justify-between content-center gap-x-2.5 rounded-xl bg-base-100 p-4 shadow-lg mb-3 hover:bg-secondary hover:text-secondary-content">

                              <div class="flex h-24 w-24 items-center justify-center rounded-full border border-blue-100 bg-blue-50">

                                <div class="radial-progress bg-primary text-primary-content border-4 border-primary" style="--value:70;"><%= entry.weight %> <%= entry.unit %></div>
                                
                              </div>
                        
                              <div class="ml-4 flex self-center justify-self-end h-full">
                                <h1 class="font-bold text-2xl self-center"><%= entry.muscle %></h1>
                              </div>

                              <div class="ml-4 flex flex-col self-center justify-self-end h-full">
                                <h3 class="text-lg font-semibold"><%= entry.equipment %></h3>
                                <p class="mt-2 text-sm text-gray-500"><%= entry.date %></p>
                              </div>
                            </div>
                            <% }) %>

                          </div>
                          
                          
                        </div>




                    </div>

                  </div>

            </div>

        </div>








<!--------------------------------------------------------------------------------------------------------


        FOOTER


--------------------------------------------------------------------------------------------------------->


        <footer class="footer items-center p-4 bg-accent text-accent-content">
            <div class="items-center grid-flow-col"> 
            <p>Copyright © 2022 - All right reserved</p>
            </div> 
            <div class="grid-flow-col gap-4 sm:place-self-center sm:justify-self-end">
            <a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path></svg>
            </a> 
            <a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path></svg></a>
            <a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a>
            </div>
        </footer>

    
    </div>
  
    <script src="/index.min.js"></script>
    <script src="/node_modules/chart.js/dist/Chart.min.js"></script>

    

    


    <!-- <script>

      


      '<% let x = cardioEntries.map(entry => { return new Date(entry.date) }) %>'
      '<% let y = cardioEntries.map(entry => entry.distance) %>'
    
      let dots = { }
      dots.x = '<%= x %>'
      dots.y = '<%= y %>'
      distances = dots.y.split(',')
      let y = [];
      distances.forEach(str => {
        y.push(Number(str));
      });

      console.log(y)

      '<% let date = cardioEntries.map( entry => entry.date ) %>'

      



      const data = {
                datasets: [
                  {
                    label: 'Cardio Distances',
                    data: dots.y,
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        'rgba(153, 102, 255, 0.2)',
                        'rgba(255, 159, 64, 0.2)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)',
                        'rgba(255, 159, 64, 1)'
                    ],
                    borderWidth: 1
                }
              ]
            };



        // CONFIG BLOCK

        const config = {
            type: 'line',
            data,  
            options: {
                scales: {
                  x: {
                    type: 'time',
                    time: {
                      unit: 'day'
                    }
                  },
                  y: {
                      beginAtZero: true
                  }
                }
            }
        };

        //

        const cardioChart = new Chart (
            document.getElementById('cardioChart'),
            config
        );






    </script> -->

    <script>
      const ctx = document.getElementById('myChart').getContext('2d');

      const labels = [ 'dates' ];

  '<% let dates = cardioEntries.map(entry => new Date(entry.date).toDateString() ) %>'
  '<% let distances = cardioEntries.map(entry => parseInt( entry.distance )) %>'
      
      '<%- console.log(dates) %>'
      '<%- console.log(distances) %>'

      const myChart = new Chart(ctx, {
          type: 'line',
          data: {

            //Dates 

              labels: '<%= JSON.stringify(dates) %>',


              datasets: [{
                  label: 'Distance',

                  // Distnaces

                  data: '<%- JSON.stringify(distances); %>',
                  
                  backgroundColor: [
                      'rgba(255, 99, 132, 0.2)',
                      'rgba(54, 162, 235, 0.2)',
                      'rgba(255, 206, 86, 0.2)',
                      'rgba(75, 192, 192, 0.2)',
                      'rgba(153, 102, 255, 0.2)',
                      'rgba(255, 159, 64, 0.2)'
                  ],
                  borderColor: [
                      'rgba(255, 99, 132, 1)',
                      'rgba(54, 162, 235, 1)',
                      'rgba(255, 206, 86, 1)',
                      'rgba(75, 192, 192, 1)',
                      'rgba(153, 102, 255, 1)',
                      'rgba(255, 159, 64, 1)'
                  ],
                  borderWidth: 1
              }]
          },
          options: {
              scales: {
                  y: {
                      beginAtZero: true
                  }
              }
          }
      });

      
    </script>








    
</body>
</html>